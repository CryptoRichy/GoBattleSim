<style>
	div#ranking_table_wrapper td{
		font-size: 12px;
		padding: 0px;
		line-height: 3;
	}
	div#ranking_table_wrapper th {
		font-size: 11px;
	}
	div#subMenu {
		z-index: 10;
	}
	div#ranking_table_wrapper {
		margin-top: 10px;
	}


</style>


<div id='moveEditForm' title="Add/Edit Move">
	<table>
		<tr>
			<th>Move Category</th> 
			<td><select id='moveEditForm-moveType'>
				<option value='FastMoves'>Fast</option>
				<option value='ChargedMoves'>Charged</option>
			</select></td>
		</tr>
		<tr>
			<th>Move Name</th> 
			<td><input type='text' id='moveEditForm-name' class='input-with-icon move-input-with-icon'></td>
		</tr>
		<tr>
			<th>Move Typing</th> 
			<td><select id='moveEditForm-pokeType'></select></td>
		</tr>
		<tr>
			<th>Power</th> 
			<td><input type='number' id='moveEditForm-power'></td>
		</tr>
		<tr>
			<th>EnergyDelta</th> 
			<td><input type='number' id='moveEditForm-energyDelta'></td>
		</tr>
		<tr>
			<th>Duration (in seconds)</th> 
			<td><input type='number' id='moveEditForm-duration'></td>
		</tr>
		<tr>
			<th>Damage Window (in seconds)</th> 
			<td><input type='number' id='moveEditForm-dws'></td>
		</tr>
	</table>
	<br>
	
	<table> 
		<colgroup><col width='50%'><col width='25%'><col width='25%'></colgroup>
		<tr>
			<td><button onclick='moveEditFormSubmit()' id='moveEditForm-submit'><i class="fa fa-check" aria-hidden="true"></i> Save</button></td>
			<td><button onclick='moveEditFormDelete()' id='moveEditForm-delete'><i class="fa fa-trash" aria-hidden="true"></i> Delete</button></td>
			<td><button onclick='moveEditFormReset()' id='moveEditForm-reset'><i class="fa fa-refresh" aria-hidden="true"></i> Reset</button></td>
		</tr>
	</table>
	
	<div id='moveEditForm-feedback'>
	</div>
</div>


<div id='pokemonEditForm' title="Add/Edit Pokemon">
	<table>
		<tr>
			<th>Pokemon Name</th> 
			<td><input type='text' id='pokemonEditForm-name' class='input-with-icon species-input-with-icon'></td>
		</tr>
		<tr>
			<th>Pokemon Typing 1</th> 
			<td><select id='pokemonEditForm-pokeType1'></select></td>
		</tr>
		<tr>
			<th>Pokemon Typing 2</th> 
			<td><select id='pokemonEditForm-pokeType2'></select></td>
		</tr>
		<tr>
			<th>Base Attack</th> 
			<td><input type='number' id='pokemonEditForm-baseAtk'></td>
		</tr>
		<tr>
			<th>Base Defense</th> 
			<td><input type='number' id='pokemonEditForm-baseDef'></td>
		</tr>
		<tr>
			<th>Base Stamina</th> 
			<td><input type='number' id='pokemonEditForm-baseStm'></td>
		</tr>
		<tr>
			<th>Fast Move Pool</th> 
			<td><input type='text' id='pokemonEditForm-fmoves'></td>
		</tr>
		<tr>
			<th>Charged Move Pool</th> 
			<td><input type='text' id='pokemonEditForm-cmoves'></td>
		</tr>

	</table>
	<br>
	
	
	<table> 
		<colgroup><col width='50%'><col width='25%'><col width='25%'></colgroup>
		<tr>
			<td><button onclick='pokemonEditFormSubmit()' id='pokemonEditForm-submit'><i class="fa fa-check" aria-hidden="true"></i> Save</button></td>
			<td><button onclick='pokemonEditFormDelete()' id='pokemonEditForm-delete'><i class="fa fa-trash" aria-hidden="true"></i> Delete</button></td>
			<td><button onclick='pokemonEditFormReset()' id='pokemonEditForm-reset'><i class="fa fa-refresh" aria-hidden="true"></i> Reset</button></td>
		</tr>
	</table>
	
	<div id='pokemonEditForm-feedback'>
	</div>
</div>


<div id='modEditForm' title='Edit Mods'>
	<table id='modEditForm-Table'>
		<thead>
			<tr>
				<th>Mod Name</th>
				<th>Applied</th>
			</tr>
		</thead>
		<tbody id='mod_tbody'>

		</tbody>
	</table>
	<br>
	<table> 
		<colgroup><col width='100%'></colgroup>
		<tr>
			<td><button onclick='modEditFormSubmit()' id='modForm-submit'><i class="fa fa-check" aria-hidden="true"></i> Save</button></td>
		</tr>
	</table>
	
	<div id='modEditForm-feedback'>
	</div>
</div>


<table>
	<colgroup><col width='100%'></colgroup>
	<tr>
		<td>
		<div id='ui-use-box'><label style='width:100%; font-size:16px;'>Use Pokemon from GamePress Box<input type='checkbox' id='ui-use-box-checkbox'></label></div>
		</td>
	</tr>
</table>

<table>
	<colgroup><col width='50%'><col width='25%'><col width='25%'></colgroup>
	<tr>
		<th>Enemy Species</th>
		<th>PokeType 1</th>
		<th>PokeType 2</th>
	</tr>
	<tr>
		<td><input type='text' id='ui-species_boss' index='-1' class='input-with-icon species-input-with-icon'></input></td>
		<td><select id='d-pokeType1' onchange='requestSpreadsheet()'></select></td>
		<td><select id='d-pokeType2' onchange='requestSpreadsheet()'></select></td>
	</tr>
</table>

<table>
	<colgroup><col width='50%'><col width='50%'></colgroup>
	<tr>
		<th>Enemy Fast Move</th>
		<th>Enemy Charged Move</th>
	</tr>
	<tr>
		<td><input type='text' id='fmove_boss' index='-1' class='input-with-icon move-input-with-icon'></td>
		<td><input type='text' id='cmove_boss' index='-1' class='input-with-icon move-input-with-icon'></td>
	</tr>
</table>
	
<table>
	<colgroup><col width='50%'><col width='50%'></colgroup>
	<tr>
		<th>Weather</th>
		<th>Customization</th>
	</tr>
	<tr>
		<td><select id='weather' onchange='requestSpreadsheet()'></select></td>
		<td class='sub-menu-container'>
			<button class='sub-menu-opener'><i class="fa fa-cog" aria-hidden="true"></i> Customize</button>
			<div class='sub-menu'>
				<button class='player_button' id='moveEditFormOpener'>Move</button>
				<button class='player_button' id='pokemonEditFormOpener'>Species</button>
				<button class='player_button' id='modEditFormOpener'>Mods</button>
				<button class='player_button' id='refresher'>Refresh</button>
			</div>
		</td>
	</tr>
</table>

<br>
<br>


<table>
	<colgroup><col width='100%'></colgroup>
	<tr>
		<th>Search</th>
	</tr>
	<tr>
		<td><input type='text' id='searchInput' onkeyup='search_trigger()'></input></td>
	</tr>
</table>



<table id='ranking_table' style='width:100%;'>
<thead></thead>
<tfoot></tfoot>
<tbody></tbody>
</table>


<script>

// Use Pokemon from Box
$( "#ui-use-box" ).controlgroup();
$( "#ui-use-box-checkbox" ).change(function(){
	requestSpreadsheet(true);
});

// Sub Menu initialization
var SubMenuContainers = document.getElementsByClassName('sub-menu-container');
for (var i = 0; i < SubMenuContainers.length; i++){
	var container = SubMenuContainers[i];
	container.children[0].onclick = function(){
		$(this.parentNode.children[1]).slideToggle('fast');
		var subMenus = document.getElementsByClassName('sub-menu');
		for (var j = 0; j < subMenus.length; j++){
			if (subMenus[j].id != this.parentNode.children[1].id){
				$(subMenus[j]).hide();
			}
		}
	}
	for (var j = 0; j < container.children[1].children.length; j++){
		$( container.children[1].children[j] ).click(function(){
			$(this.parentNode).hide();
		});
	}
	$(container.children[1]).menu();
	$(container.children[1]).hide();
}


// Move Edit Form
$( "#moveEditForm" ).dialog({ 
	autoOpen: false,
	width: 600
});
$( "#moveEditFormOpener" ).click(function() {
	$( "#moveEditForm" ).dialog( "open" );
});
autocompleteMoveEditForm();
$( "#moveEditFormOpener" ).on('dialogclose', function(event) {
	sendFeedback('', false, 'moveEditForm-feedback');
});

// Species Edit Form
$( "#pokemonEditForm" ).dialog({ 
	autoOpen: false,
	width: 600
});
$( "#pokemonEditFormOpener" ).click(function() {
	$( "#pokemonEditForm" ).dialog( "open" );
});
autocompletePokemonEditForm();
$( "#pokemonEditForm" ).on('dialogclose', function(event) {
	sendFeedback('', false, 'pokemonEditForm-feedback');
});

var moveEditFormPokeTypeSelect = document.getElementById('moveEditForm-pokeType');
var pokemonEditFormPokeType1Select = document.getElementById('pokemonEditForm-pokeType1');
var pokemonEditFormPokeType2Select = document.getElementById('pokemonEditForm-pokeType2');
for (var type in Data.TypeEffectiveness){
	moveEditFormPokeTypeSelect.appendChild(createElement('option', toTitleCase(type), {value : type}));
	pokemonEditFormPokeType1Select.appendChild(createElement('option', toTitleCase(type), {value : type}));
	pokemonEditFormPokeType2Select.appendChild(createElement('option', toTitleCase(type), {value : type}));
}
pokemonEditFormPokeType1Select.appendChild(createElement('option', 'None', {value : 'none'}));
pokemonEditFormPokeType2Select.appendChild(createElement('option', 'None', {value : 'none'}));


// Mod Edit Form
$( "#modEditForm" ).dialog({
	autoOpen: false,
	width: 600
});
$( "#modEditFormOpener" ).click(function() {
	$( "#modEditForm" ).dialog( "open" );
});

// Refresh button
$ ( "#refresher" ).click(function(){
	requestSpreadsheet(true);
});

populateAll(applicationInit);

</script>